<!DOCTYPE html>
<html lang="en">
<head>
    {% load staticfiles %}
    <meta charset="UTF-8">
    <title>Title</title>
     <script type="text/javascript" src="{%static 'webpage/js/jquery1.js'%}"></script>
     <script type="text/javascript" src="{%static 'webpage/sweetalert/js/salert.min.js'%}"></script>
     <link rel="stylesheet" type="text/css" href="{%static 'webpage/sweetalert/css/salert.css'%}">
     <link rel="stylesheet" type="text/css" href="{%static 'webpage/font_awesome/css/font-awesome.css'%}">
     <link rel="stylesheet" type="text/css" href="{%static 'webpage/bootstrap/css/bootstrap.css'%}">
     <script type="text/javascript" src="{%static 'webpage/bootstrap/js/bootstrap.js'%}"></script>

</head>
<body>

<div class="panel panel-default">
  <div class="panel-heading"><h1>展示信息！！</h1></div>
  <table class="table" >
      <thead>
           <tr>
            <th>ID</th>
            <th>姓名</th>
            <th>地址</th>
            <th>年龄</th>
            <th>爱好</th>
            <th>时间</th>
            <th>操作</th>
           </tr>
      </thead>
      <tbody>
          {% for mgs in student %}
          <tr>
                   <td>{{mgs.id}}</td>
                   <td>{{mgs.name}}</td>
                   <td>{{mgs.adder}}</td>
                   <td>{{mgs.age}}</td>
                   <td>{{mgs.hobby}}</td>
                   <td>{{mgs.ctime}}</td>
                   <td>
                        <button class="btn btn-danger"><i class=" del fa fa-trash-o" >删除</i></button>
                   </td>
          </tr>
          {% endfor %}
      </tbody>
  </table>
</div>
<script>
https://sweetalert.js.org/docs/
$(".del").click(function () {
     {#var v=$(the).parent().prevAll();   // prevAll() 方法返回被选元素之前的所有同级元素。    the 当前元素 的父元素   之前所以同级元#}
     {# var    c=$(v[0]).text();    // 获取当前行值    姓名#}
     var nid=$(this).parent().parent().children().eq(1).text();

      swal({
            title: "你确定要删除吗？",
            text: "删除可就找不回来了哦！",
            type: "warning",
            showCancelButton: true,
            confirmButtonClass: "btn-danger",
            confirmButtonText: "删除",
            cancelButtonText: "取消",
            closeOnConfirm: false
          {#向后端发送删除请求#}
      },function () {
          $.ajax({
                url:"/home/ajax_show/",
                type: "post",
                data:{"id":nid},
                 success:function (arg) {
                        console.log(arg)
                     var nid=$(this).parent().parent().children()
                         nid.remove();

                 },

          })

      })



})



</script>


</body>
</html>












